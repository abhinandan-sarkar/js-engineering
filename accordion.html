<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accordion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .container {
            width: 400px;
            height: 400px;
            padding: 4px;
            border: 1px solid black;
            margin: 100px auto;
        }

        .accordion-button {
            display: flex;
            background-color: #ccc;
            padding: 2px 10px;
            justify-content: space-between;
            user-select: none;
        }

        .accordion-button span {
            font-size: 20px;
            font-weight: bolder;
            cursor: pointer;
        }

        .accordion-text {
            padding: 4px;
            transition: height 0.8s ease;
            overflow: hidden;

        }


        .items {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div>
            <div class="items">
                <div class="accordion-button">
                    <h4>Section 1</h4><span>+</span>
                </div>
                <div class="accordion-text">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, velit debitis. Repellendus
                        magni, numquam itaque sequi delectus sit exercitationem ipsa! Magnam non, placeat eligendi
                        quas praesentium at distinctio doloremque debitis suscipit
                    </p>
                </div>
            </div>

            <div class="items">
                <div class="accordion-button">
                    <h4>Section 2</h4><span>+</span>
                </div>
                <div class="accordion-text">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, velit debitis. Repellendus
                        magni, numquam itaque sequi delectus sit exercitationem ipsa! Magnam non, placeat eligendi
                        quas praesentium at distinctio doloremque debitis suscipit
                    </p>
                </div>
            </div>

            <div class="items">
                <div class="accordion-button">
                    <h4>Section 3</h4><span>+</span>
                </div>
                <div class="accordion-text">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, velit debitis. Repellendus
                        magni, numquam itaque sequi delectus sit exercitationem ipsa! Magnam non, placeat eligendi
                        quas praesentium at distinctio doloremque debitis suscipit
                    </p>
                </div>
            </div>

            <div class="items">
                <div class="accordion-button">
                    <h4>Section 4</h4><span>+</span>
                </div>
                <div class="accordion-text">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, velit debitis. Repellendus
                        magni, numquam itaque sequi delectus sit exercitationem ipsa! Magnam non, placeat eligendi
                        quas praesentium at distinctio doloremque debitis suscipit
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let accordionButton = document.querySelectorAll('.accordion-button span');
        let accordionText = document.querySelectorAll('.accordion-text');
        let height = 0;
        let accordionTextHeight = [];
        accordionText.forEach((ele, i) => {
            accordionButton[i].setAttribute('onclick', `managementFn(${i})`)
            accordionTextHeight.push(ele.clientHeight + 8);
            accordionText[i].style.height = height + 'px';
            accordionText[i].style.padding = height + 'px';
            accordionText[i].style.marginBottom = 2 + 'px';
            accordionButton[i].innerText = '+';
            if (i == 0) {
                accordionText[0].style.height = (accordionTextHeight[0]) + 'px';
                accordionButton[0].innerText = '-';
            }
        })



        function showText(i) {
            accordionText[i].style.height = (accordionTextHeight[i]) + 'px';
            accordionText[i].style.padding = '4px';
            accordionButton[i].innerText = '-';
        }

        function hideText(i) {
            accordionText[i].style.height = height + 'px';
            accordionText[i].style.padding = height + 'px';
            accordionText[i].style.marginBottom = 2 + 'px';
            accordionButton[i].innerText = '+';
        }


        function managementFn(activeIndex) {

            let textCharge = accordionButton[activeIndex].textContent;
            console.log(textCharge);
            accordionText.forEach((element, value) => {
                if (activeIndex == value && textCharge == '-') {
                    hideText(activeIndex);
                } else if (activeIndex == value || textCharge == '+') {
                    showText(activeIndex);
                } else {

                    hideText(activeIndex);
                }
            })























            /*
             multiple accordion can be open together 
             let textCharge=accordionButton[i].textContent;
             console.log(textCharge);
             if(textCharge=='+'){showText(i)}else{hideText(i)}
 
             */

        }







        // function managementFn(activeIndex) {

        //     accordionText.forEach((text, i) => {

        //         if (activeIndex != i) {

        //             accordionText[i].style.display = "none";
        //             accordionButton[i].innerText = '+';
        //             accordionButton[i].setAttribute('onclick', `managementFn(${i})`)
        //         } else {

        //             let textInner = accordionButton[i].innerText;
        //             console.log(textInner)
        //             if (textInner == '-') {
        //                 console.log(' if...')
        //                 accordionButton[i].setAttribute('onclick', `managementFn(${i})`);
        //                 accordionText[i].style.display = "none";
        //                 accordionButton[i].innerText = '+';
        //                 close(i);
        //             } else {

        //                 accordionText[i].style.display = "block";
        //                 accordionButton[i].innerText = '-';
        //                 accordionButton[i].setAttribute('onclick', `managementFn(${i})`);

        //             }


        //         }
        //     })

        // }

        // function close(i) {
        //     accordionText[i].style.display = "none";
        //     accordionButton[i].setAttribute('onclick', `managementFn(${i})`);
        // }



    </script>

</body>

</html>